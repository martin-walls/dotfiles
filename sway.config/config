#  ┌─────────────┐
#  │ Sway config │
#  └─────────────┘
# Read `man 5 sway` for a complete reference.

### Variables
#
# Logo key. Use Mod1 for Alt.
set $mod Mod4
# Home row direction keys, like vim
set $left  h
set $down  j
set $up    k
set $right l
# Terminal emulator
set $term kitty
# Application launcher
set $menu wofi
set $browser firefox

# wob setup
# (brightness/volume bar)
# Must be before `include ./*.sway`
set $WOBSOCK $XDG_RUNTIME_DIR/wob.sock
# this next line not needed, it's handled by systemd
exec rm -f $WOBSOCK && mkfifo $WOBSOCK && tail -f $WOBSOCK | wob
set $_wobcolors 282c34aa ffffffdd ffffffdd

include ./*.sway

output HEADLESS-1 {
    pos 0,0
    mode 2360x1640
}

# You can get the names of your inputs by running: swaymsg -t get_inputs
# Read `man 5 sway-input` for more information about this section.

# input type:keyboard {
#     xkb_layout "gb"
#     xkb_numlock enable
#     xkb_options compose:ralt,caps:escape
# }

input type:keyboard {
    # dvorak programmer, qwerty
    xkb_layout us(dvp),gb
    xkb_numlock enable
    # map caps to escape, toggle layout by pressing both alts together
    xkb_options caps:escape,grp:alts_toggle
}

input type:touchpad {
    tap enabled
    natural_scroll enabled
    click_method clickfinger
}

### Key bindings
#
# Basics:
#
    # Start a terminal
    bindsym $mod+Return exec $term
    # also mod+x cos it's easier to do one-handed
    bindsym $mod+x exec $term

    # Start your launcher
    bindsym $mod+space exec $menu

    bindsym $mod+Shift+b exec $browser

    # Drag floating windows by holding down $mod and left mouse button.
    # Resize them with right mouse button + $mod.
    # Despite the name, also works for non-floating windows.
    # Change normal to inverse to use left mouse button for resizing and right
    # mouse button for dragging.
    floating_modifier $mod normal

    # Reload the configuration file
    bindsym $mod+Shift+c reload

    # Exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

#
# Scratchpad:
#
    # Sway has a "scratchpad", which is a bag of holding for windows.
    # You can send windows there and get them back later.

    # Move the currently focused window to the scratchpad
    bindsym $mod+Shift+minus move scratchpad

    # Show the next scratchpad window or hide the focused scratchpad window.
    # If there are multiple scratchpad windows, this command cycles through them.
    bindsym $mod+minus scratchpad show

    # screenshot
    bindsym Print exec ~/.config/sway/scripts/take-screenshot.sh

#
# Status Bar:
#
# Read `man 5 sway-bar` for more information about this section.
bar {
    swaybar_command waybar
}

include /etc/sway/config.d/*

# trigger any services that depend on sway-session.target
exec_always "systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK; systemctl --user start sway-session.target"
exec hash dbus-update-activation-environment 2>/dev/null && \
     dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK

# vim:ft=swayconfig
